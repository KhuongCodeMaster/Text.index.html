<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Th√¥ng Tin Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #000;
            color: #fff;
        }
        .navbar {
            background: #007BFF;
            color: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .navbar a {
            color: white;
            text-decoration: none;
            margin-left: 15px;
        }
        .navbar a:hover {
            text-decoration: underline;
        }
        .content {
            padding: 20px;
            text-align: center;
        }
        .button {
            display: inline-block;
            margin-top: 20px;
            padding: 10px 15px;
            background: #007BFF;
            color: white;
            border-radius: 5px;
            text-decoration: none;
            transition: background 0.3s;
        }
        .button:hover {
            background: #0056b3;
        }
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        .image-grid img {
            width: 100%;
            height: auto;
            border-radius: 5px;
            transition: transform 0.3s ease;
            cursor: pointer;
        }
        .image-grid img:hover {
            transform: scale(1.2);
        }
        .comment-section {
            margin-top: 30px;
            background-color: #333;
            padding: 20px;
            border-radius: 10px;
        }
        .comment-section h3 {
            margin-bottom: 10px;
        }
        .comment-form input, .comment-form textarea {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            border: 1px solid #ccc;
            background-color: #444;
            color: white;
        }
        .comment-form button {
            padding: 10px 20px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .comment-form button:hover {
            background-color: #0056b3;
        }
        .comments-list {
            margin-top: 20px;
            text-align: left;
        }
        .comment-item {
            background-color: #555;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .comment-item .username {
            font-weight: bold;
        }
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
        }
        .lightbox img {
            max-width: 90%;
            max-height: 90%;
        }
        .pagination {
            margin-top: 20px;
            text-align: center;
        }
        .pagination button {
            padding: 10px 15px;
            background: #007BFF;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }
        .pagination button:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <div class="navbar">
        <span>Th√¥ng Tin Game</span>
        <div>
            <a href="index.html">Trang Ch·ªß</a>
            <a href="register.html">ƒêƒÉng K√Ω</a>
            <a href="login.html">ƒêƒÉng Nh·∫≠p</a>
            <a href="#" id="logout" style="display: none;" onclick="logout()">ƒêƒÉng Xu·∫•t</a>
        </div>
    </div>

    <div class="content">
        <h1 id="game-title">Eliza's Secret Potion</h1>
        <img id="game-image" src="Castle.png" alt="·∫¢nh Game Ch√≠nh B·ªã L·ªói ü§ñ" width="300">
        <p id="game-description">
            Eliza l√† m·ªôt c√¥ ph√π th·ªßy tr·∫ª, kh√°m ph√° m·ªôt c√¥ng th·ª©c b√≠ ·∫©n g·ªçi l√† Secret Potion. Trong h√†nh tr√¨nh, b·∫°n s·∫Ω v√†o vai nh√¢n v·∫≠t nam da ƒëen üôçüèø‚Äç‚ôÇÔ∏è v√† b·∫°n s·∫Ω c·ªë g·∫Øng n√¢ng c·∫•p c√¥ng th·ª©c ch·∫ø t·∫°o Secret Potion v√† ƒë·ªÉ l√†m g√¨ th√¨ t·ª± bi·∫øt ƒëi nh√° üåö
        </p>

        <h2>Show M·ªôt Ch√∫t ·∫¢nh üåö:</h2>
        <div class="image-grid">
            <img id="img1" src="ÊÇ™Â§¢.png" alt="ÊÇ™Â§¢">
            <img id="img2" src="C-2 ÂÖ®Ë∫´.png" alt="C-2 ÂÖ®Ë∫´">
            <img id="img3" src="F-1 ÂÖ®‰Ωì.png" alt="F-1 ÂÖ®‰Ωì">
            <img id="img4" src="D-11 Ê∑±„Åè.png" alt="D-11 Ê∑±„Åè">
            <img id="img5" src="B-7 ‰∏≠Âá∫„Åó.png" alt="B-7 ‰∏≠Âá∫„Åó">
            <img id="img6" src="E-8 Ê∑±„ÅÑ.png" alt="E-8 Ê∑±„ÅÑ">
            <img id="img7" src="J-14 ‰∏≠Âá∫„ÅóÂæå.png" alt="J-14 ‰∏≠Âá∫„ÅóÂæå">
        </div>

        <h2 style="margin-top: 30px;">Link T·∫£i Game:</h2>
        <a href="#" class="button" onclick="downloadGame(event)">T·∫£i Game</a>
        <h3 id="username-display">Ch∆∞a ƒëƒÉng nh·∫≠p</h3>
    </div>

    <div class="comment-section">
        <h3>B√¨nh lu·∫≠n</h3>
        <div class="comment-form">
            <input type="text" id="comment-username" placeholder="T√™n c·ªßa b·∫°n" required>
            <textarea id="comment-text" placeholder="Vi·∫øt b√¨nh lu·∫≠n c·ªßa b·∫°n..." required></textarea>
            <button onclick="submitComment()">G·ª≠i B√¨nh Lu·∫≠n</button>
        </div>
        <div class="comments-list" id="comments-list"></div>
        <div class="pagination" id="pagination"></div>
    </div>

    <div id="lightbox" class="lightbox">
        <img src="" alt="Large View" id="lightbox-img">
    </div>

    <script>
        let currentPage = 1;
        const commentsPerPage = 10;

        // X·ª≠ l√Ω Lightbox cho ·∫£nh
        const lightbox = document.getElementById("lightbox");
        const lightboxImg = document.getElementById("lightbox-img");

        document.querySelectorAll(".image-grid img").forEach(img => {
            img.addEventListener("click", () => {
                lightbox.style.display = "flex";
                lightboxImg.src = img.src;
            });
        });

        lightbox.addEventListener("click", () => {
            lightbox.style.display = "none";
        });

        // X·ª≠ l√Ω t·∫£i game
        function downloadGame(event) {
            event.preventDefault();
            alert("ƒêang t·∫£i game... Vui l√≤ng ch·ªù.");
        }

        // X·ª≠ l√Ω ƒëƒÉng nh·∫≠p v√† ƒëƒÉng xu·∫•t
        function logout() {
            localStorage.removeItem('username');
            document.getElementById('logout').style.display = 'none';
            document.getElementById('username-display').textContent = 'Ch∆∞a ƒëƒÉng nh·∫≠p';
        }

        // X·ª≠ l√Ω b√¨nh lu·∫≠n
        function submitComment() {
            const username = document.getElementById("comment-username").value.trim();
            const text = document.getElementById("comment-text").value.trim();

            if (!username || !text) {
                alert("B·∫°n ph·∫£i ƒëi·ªÅn t√™n v√† n·ªôi dung b√¨nh lu·∫≠n!");
                return;
            }

            const comment = {
                username: username,
                text: text,
                timestamp: new Date().toLocaleString()
            };

            let comments = JSON.parse(localStorage.getItem("comments")) || [];
            comments.push(comment);
            localStorage.setItem("comments", JSON.stringify(comments));

            displayComments();
            document.getElementById("comment-username").value = "";
            document.getElementById("comment-text").value = "";
        }

        function displayComments() {
            const commentsList = document.getElementById("comments-list");
            const pagination = document.getElementById("pagination");
            commentsList.innerHTML = "";

            const comments = JSON.parse(localStorage.getItem("comments")) || [];
            const totalPages = Math.ceil(comments.length / commentsPerPage);
            const startIndex = (currentPage - 1) * commentsPerPage;
            const endIndex = Math.min(startIndex + commentsPerPage, comments.length);

            if (comments.length === 0) {
                commentsList.innerHTML = "<p>Ch∆∞a c√≥ b√¨nh lu·∫≠n n√†o. H√£y l√† ng∆∞·ªùi ƒë·∫ßu ti√™n!</p>";
                return;
            }

            for (let i = startIndex; i < endIndex; i++) {
                const comment = comments[i];
                const commentElement = document.createElement("div");
                commentElement.classList.add("comment-item");
                commentElement.innerHTML = `
                    <div class="username">${comment.username}</div>
                    <div class="timestamp">${comment.timestamp}</div>
                    <div class="text">${comment.text}</div>
                    <button onclick="deleteComment(${i})">X√≥a</button>
                `;
                commentsList.appendChild(commentElement);
            }

            // Pagination controls
            let paginationHTML = "";
            if (currentPage > 1) {
                paginationHTML += `<button onclick="changePage(${currentPage - 1})">Trang Tr∆∞·ªõc</button>`;
            }
            if (currentPage < totalPages) {
                paginationHTML += `<button onclick="changePage(${currentPage + 1})">Trang Sau</button>`;
            }
            pagination.innerHTML = paginationHTML;
        }

        function changePage(page) {
            currentPage = page;
            displayComments();
        }

        function deleteComment(index) {
    let comments = JSON.parse(localStorage.getItem("comments")) || [];
    const currentUsername = localStorage.getItem('username'); // L·∫•y t√™n ng∆∞·ªùi d√πng hi·ªán t·∫°i

    // Ki·ªÉm tra n·∫øu ng∆∞·ªùi d√πng kh√¥ng ƒëƒÉng nh·∫≠p ho·∫∑c b√¨nh lu·∫≠n kh√¥ng ph·∫£i c·ªßa h·ªç
    if (!currentUsername) {
        alert("B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p ƒë·ªÉ x√≥a b√¨nh lu·∫≠n!");
        return;
    }

    const comment = comments[index];
    
    if (comment.username !== currentUsername) {
        alert("B·∫°n ch·ªâ c√≥ th·ªÉ x√≥a b√¨nh lu·∫≠n c·ªßa ch√≠nh m√¨nh!");
        return;
    }

    // X√≥a b√¨nh lu·∫≠n n·∫øu ng∆∞·ªùi d√πng l√† ng∆∞·ªùi ƒëƒÉng b√†i
    comments.splice(index, 1);
    localStorage.setItem("comments", JSON.stringify(comments));
    displayComments();
}

        document.addEventListener("DOMContentLoaded", function() {
            const username = localStorage.getItem('username');
            if (username) {
                document.getElementById('username-display').textContent = `Ch√†o, ${username}`;
                document.getElementById('logout').style.display = 'block';
            }
            displayComments();
        });
    </script>
</body>
</html>
